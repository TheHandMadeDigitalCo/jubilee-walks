!function(){"use strict";const Map=window.mapboxgl.Map,AttributionControl=window.mapboxgl.AttributionControl,GeolocateControl=window.mapboxgl.GeolocateControl,NavigationControl=window.mapboxgl.NavigationControl;class WalkMap{constructor(container){this._loaded=!1,this._map=new Map({container:container,style:"https://api.maptiler.com/maps/streets/style.json?key=Ufz2DspPpwHKhct0Kj6J",center:[-2.017322,50.774277],zoom:14,minZoom:12,maxZoom:19,pitch:0,hash:!0,attributionControl:!1}),this._map.addControl(new GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),this._map.addControl(new NavigationControl,"top-right"),this._map.addControl(new AttributionControl({customAttribution:"&copy; Corfe Mullen Town Council &amp; Wendy Dix"}),"bottom-left"),this._map.on("load",(()=>{this._loaded=!0}))}get map(){return this._map}addTrail(trailSource){const fn=()=>{this._map.addSource(trailSource.id,trailSource.source),this._map.addLayer(trailSource.layer),this._map.addLayer(trailSource.symbols)};this._loaded?fn.call():this._map.on("load",fn)}toggleTrail(layer,enabled){this._map.setLayoutProperty(layer,"visibility",enabled?"visible":"none"),this._map.setLayoutProperty(layer+"-symbols","visibility",enabled?"visible":"none")}}class TrailSource{constructor(url,colour,name){this._id=(()=>{let seed=Date.now();return window.performance&&"function"==typeof window.performance.now&&(seed+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(c=>{let r=(seed+16*Math.random())%16|0;return seed=Math.floor(seed/16),("x"===c?r:11&r).toString(16)}))})(),this._name=name,this._colour=colour,this._source={type:"geojson",data:url},this._layer={id:this._id,type:"line",source:this._id,layout:{"line-join":"round","line-cap":"round",visibility:"none"},paint:{"line-color":colour,"line-width":2.5,"line-dasharray":[3,3],"line-opacity":1}},this._symbols={id:this._id+"-symbols",source:this._id,type:"symbol",layout:{"text-font":["Noto Sans Regular"],"text-size":14,"symbol-placement":"line","text-field":"{name}",visibility:"none"},paint:{"text-color":"white","text-halo-blur":1,"text-halo-color":colour,"text-halo-width":2}}}get id(){return this._id}get layer(){return this._layer}get symbols(){return this._symbols}get source(){return this._source}get colour(){return this._colour}}class ActionButton{constructor(container){this._container=container,this._enabled=!1,this._root=this._render(),this._container.appendChild(this._root),this._root.addEventListener("click",(evt=>{this._enabled=!this._enabled;const event=new CustomEvent("action-toggle",{detail:{enabled:this._enabled}});this._container.dispatchEvent(event)}))}_render(){const root=document.createElement("div");return root.classList.add("control"),root.id="overlay-icon",root.innerHTML="\n            <img src='img/jubilee.svg'>\n        ",root}}class TrailToggleButton{constructor(label,container,layerId,colour){this._label=label,this._container=container,this._layerId=layerId,this._enabled=!1,this._colour=colour,this._root=this._render(),this._container.appendChild(this._root),this._root.addEventListener("click",(evt=>{const icon=this._root.querySelector(".enabled");this._enabled?icon.classList.add("hidden"):icon.classList.remove("hidden"),this._enabled=!this._enabled;const event=new CustomEvent("layer-toggle",{detail:{enabled:this._enabled,layer:this._layerId}});this._container.dispatchEvent(event)}))}_render(){const root=document.createElement("div");return root.classList.add("layer","control","hide"),root.style.backgroundColor=this._colour,root.innerHTML=`\n            <div class='enabled hidden'>\n                <img src='img/circle-check.svg'/>\n            </div>\n            <span>${this._label}</span>\n        `,root}toggle(show){!0===show?(this._root.classList.remove("hide"),this._root.classList.add("show")):(this._root.classList.remove("show"),this._root.classList.add("hide"))}}new class{constructor(){this._walkMap=new WalkMap("map"),this._walks=[new TrailSource("./data/geojson/parish.walk.1.geojson","#1985ff","Parish Walk"),new TrailSource("./data/geojson/eastend.walk.2.geojson","#0d9600","East End Walk"),new TrailSource("./data/geojson/heritage.walk.3.geojson","#9300c4","Heritage Walk"),new TrailSource("./data/geojson/heath.walk.4.geojson","#dc0608","Heath Walk")],this._mobileControls=document.getElementById("mobile-controls"),this._buttons=[new TrailToggleButton("Parish Walk",this._mobileControls,this._walks[0].id,this._walks[0].colour),new TrailToggleButton("East End Walk",this._mobileControls,this._walks[1].id,this._walks[1].colour),new TrailToggleButton("Heritage Walk",this._mobileControls,this._walks[2].id,this._walks[2].colour),new TrailToggleButton("Heath Walk",this._mobileControls,this._walks[3].id,this._walks[3].colour)],this._walks.forEach((walk=>{this._walkMap.addTrail(walk)})),this._actionButton=new ActionButton(this._mobileControls),this._mobileControls.addEventListener("layer-toggle",(evt=>{this._walkMap.toggleTrail(evt.detail.layer,evt.detail.enabled)})),this._mobileControls.addEventListener("action-toggle",(evt=>{this._buttons.forEach((button=>button.toggle(evt.detail.enabled)))}))}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdWkvbWFwL21hcGxpYnJlLmpzIiwiLi4vc3JjL21hcC5qcyIsIi4uL3NyYy91dGlsLmpzIiwiLi4vc3JjL3VpL2NvbnRyb2xzLmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBNYXAgPSB3aW5kb3cubWFwYm94Z2wuTWFwO1xuZXhwb3J0IGNvbnN0IEF0dHJpYnV0aW9uQ29udHJvbCA9IHdpbmRvdy5tYXBib3hnbC5BdHRyaWJ1dGlvbkNvbnRyb2w7XG5leHBvcnQgY29uc3QgR2VvbG9jYXRlQ29udHJvbCA9IHdpbmRvdy5tYXBib3hnbC5HZW9sb2NhdGVDb250cm9sO1xuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db250cm9sID0gd2luZG93Lm1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sO1xuXG5cbiIsImltcG9ydCB7IEF0dHJpYnV0aW9uQ29udHJvbCwgR2VvbG9jYXRlQ29udHJvbCwgTWFwLCBOYXZpZ2F0aW9uQ29udHJvbCB9IGZyb20gJy4vdWkvbWFwL21hcGxpYnJlJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vdXRpbCc7XG5cbmNsYXNzIFdhbGtNYXAge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCh7XG4gICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHN0eWxlOiAnaHR0cHM6Ly9hcGkubWFwdGlsZXIuY29tL21hcHMvc3RyZWV0cy9zdHlsZS5qc29uP2tleT1VZnoyRHNwUHB3SEtoY3QwS2o2SicsXG4gICAgICAgICAgICBjZW50ZXI6IFstMi4wMTczMjIsIDUwLjc3NDI3N10sXG4gICAgICAgICAgICB6b29tOiAxNCxcbiAgICAgICAgICAgIG1pblpvb206IDEyLFxuICAgICAgICAgICAgbWF4Wm9vbTogMTksXG4gICAgICAgICAgICBwaXRjaDogMCxcbiAgICAgICAgICAgIGhhc2g6IHRydWUsXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21hcC5hZGRDb250cm9sKG5ldyBHZW9sb2NhdGVDb250cm9sKHtcbiAgICAgICAgICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9tYXAuYWRkQ29udHJvbChcbiAgICAgICAgICAgIG5ldyBOYXZpZ2F0aW9uQ29udHJvbCgpLFxuICAgICAgICAgICAgJ3RvcC1yaWdodCcsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX21hcC5hZGRDb250cm9sKFxuICAgICAgICAgICAgbmV3IEF0dHJpYnV0aW9uQ29udHJvbCh7XG4gICAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRpb246IFwiJmNvcHk7IENvcmZlIE11bGxlbiBUb3duIENvdW5jaWwgJmFtcDsgV2VuZHkgRGl4XCJcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9tYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgbWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIGFkZFRyYWlsKHRyYWlsU291cmNlKSB7XG4gICAgICAgIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmFkZFNvdXJjZSh0cmFpbFNvdXJjZS5pZCwgdHJhaWxTb3VyY2Uuc291cmNlKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5hZGRMYXllcih0cmFpbFNvdXJjZS5sYXllcik7XG4gICAgICAgICAgICB0aGlzLl9tYXAuYWRkTGF5ZXIodHJhaWxTb3VyY2Uuc3ltYm9scyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbignbG9hZCcsIGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZVRyYWlsKGxheWVyLCBlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21hcC5zZXRMYXlvdXRQcm9wZXJ0eShcbiAgICAgICAgICAgIGxheWVyLCAndmlzaWJpbGl0eScsIGVuYWJsZWQgPyAndmlzaWJsZScgOiAnbm9uZSdcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fbWFwLnNldExheW91dFByb3BlcnR5KFxuICAgICAgICAgICAgbGF5ZXIgKyBcIi1zeW1ib2xzXCIsICd2aXNpYmlsaXR5JywgZW5hYmxlZCA/ICd2aXNpYmxlJyA6ICdub25lJ1xuICAgICAgICApO1xuICAgIH1cbn1cblxuY2xhc3MgVHJhaWxTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgY29sb3VyLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuX2lkID0gdXVpZHY0KCk7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9jb2xvdXIgPSBjb2xvdXI7XG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdnZW9qc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHVybCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbGF5ZXIgPSB7XG4gICAgICAgICAgICAnaWQnOiB0aGlzLl9pZCxcbiAgICAgICAgICAgICd0eXBlJzogJ2xpbmUnLFxuICAgICAgICAgICAgJ3NvdXJjZSc6IHRoaXMuX2lkLFxuICAgICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgICAnbGluZS1qb2luJzogJ3JvdW5kJyxcbiAgICAgICAgICAgICAgICAnbGluZS1jYXAnOiAncm91bmQnLFxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ25vbmUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgICAnbGluZS1jb2xvcic6IGNvbG91cixcbiAgICAgICAgICAgICAgICAnbGluZS13aWR0aCc6IDIuNSxcbiAgICAgICAgICAgICAgICAnbGluZS1kYXNoYXJyYXknOiBbXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnbGluZS1vcGFjaXR5JzogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3N5bWJvbHMgPSB7XG4gICAgICAgICAgICAnaWQnOiB0aGlzLl9pZCArIFwiLXN5bWJvbHNcIixcbiAgICAgICAgICAgICdzb3VyY2UnOiB0aGlzLl9pZCxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInN5bWJvbFwiLFxuICAgICAgICAgICAgXCJsYXlvdXRcIjoge1xuICAgICAgICAgICAgICAgIFwidGV4dC1mb250XCI6IFtcIk5vdG8gU2FucyBSZWd1bGFyXCJdLFxuICAgICAgICAgICAgICAgIFwidGV4dC1zaXplXCI6IDE0LFxuICAgICAgICAgICAgICAgIFwic3ltYm9sLXBsYWNlbWVudFwiOiBcImxpbmVcIixcbiAgICAgICAgICAgICAgICBcInRleHQtZmllbGRcIjogJ3tuYW1lfScsXG4gICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnbm9uZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJwYWludFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0ZXh0LWNvbG9yXCI6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICBcInRleHQtaGFsby1ibHVyXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJ0ZXh0LWhhbG8tY29sb3JcIjogY29sb3VyLFxuICAgICAgICAgICAgICAgIFwidGV4dC1oYWxvLXdpZHRoXCI6IDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgZ2V0IGxheWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF5ZXI7XG4gICAgfVxuXG4gICAgZ2V0IHN5bWJvbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zeW1ib2xzO1xuICAgIH1cblxuICAgIGdldCBzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2U7XG4gICAgfVxuXG4gICAgZ2V0IGNvbG91cigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG91cjtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgeyBXYWxrTWFwLCBUcmFpbFNvdXJjZX07XG4iLCJleHBvcnQgY29uc3QgdXVpZHY0ID0gKCkgPT4ge1xuICAgIGxldCBzZWVkID0gRGF0ZS5ub3coKTtcbiAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNlZWQgKz0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICAgICAgbGV0IHIgPSAoc2VlZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XG4gICAgICAgIHNlZWQgPSBNYXRoLmZsb29yKHNlZWQgLyAxNik7XG5cbiAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogciAmICgweDMgfCAweDgpKS50b1N0cmluZygxNik7XG4gICAgfSk7XG59O1xuIiwiY2xhc3MgQWN0aW9uQnV0dG9uIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3Jvb3QpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWQgPSAhdGhpcy5fZW5hYmxlZDtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2FjdGlvbi10b2dnbGUnLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuX2VuYWJsZWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3JlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByb290LmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wnKTtcbiAgICAgICAgcm9vdC5pZCA9ICdvdmVybGF5LWljb24nO1xuICAgICAgICByb290LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxpbWcgc3JjPSdpbWcvanViaWxlZS5zdmcnPlxuICAgICAgICBgO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG59XG5cbmNsYXNzIFRyYWlsVG9nZ2xlQnV0dG9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGxhYmVsLCBjb250YWluZXIsIGxheWVySWQsIGNvbG91cikge1xuICAgICAgICB0aGlzLl9sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX2xheWVySWQgPSBsYXllcklkO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbG91ciA9IGNvbG91cjtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fcm9vdCk7XG5cbiAgICAgICAgdGhpcy5fcm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSB0aGlzLl9yb290LnF1ZXJ5U2VsZWN0b3IoJy5lbmFibGVkJyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZCA9ICF0aGlzLl9lbmFibGVkO1xuXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnbGF5ZXItdG9nZ2xlJywge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0aGlzLl9lbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3JlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByb290LmNsYXNzTGlzdC5hZGQoJ2xheWVyJywgJ2NvbnRyb2wnLCAnaGlkZScpO1xuICAgICAgICByb290LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuX2NvbG91cjtcbiAgICAgICAgcm9vdC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdlbmFibGVkIGhpZGRlbic+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9J2ltZy9jaXJjbGUtY2hlY2suc3ZnJy8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuPiR7dGhpcy5fbGFiZWx9PC9zcGFuPlxuICAgICAgICBgO1xuXG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIHRvZ2dsZShzaG93KSB7XG4gICAgICAgIGlmIChzaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yb290LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgICAgICAgICB0aGlzLl9yb290LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpXG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuXG5leHBvcnQgeyBUcmFpbFRvZ2dsZUJ1dHRvbiB9O1xuZXhwb3J0IHsgQWN0aW9uQnV0dG9uIH07XG4iLCJpbXBvcnQgeyBUcmFpbFNvdXJjZSwgV2Fsa01hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiwgVHJhaWxUb2dnbGVCdXR0b24gfSBmcm9tICcuL3VpL2NvbnRyb2xzJztcblxuY2xhc3MgQXBwbGljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl93YWxrTWFwID0gbmV3IFdhbGtNYXAoJ21hcCcpO1xuXG4gICAgICAgIHRoaXMuX3dhbGtzID0gW1xuICAgICAgICAgICAgbmV3IFRyYWlsU291cmNlKCcuL2RhdGEvZ2VvanNvbi9wYXJpc2gud2Fsay4xLmdlb2pzb24nLCAnIzE5ODVmZicsICdQYXJpc2ggV2FsaycpLFxuICAgICAgICAgICAgbmV3IFRyYWlsU291cmNlKCcuL2RhdGEvZ2VvanNvbi9lYXN0ZW5kLndhbGsuMi5nZW9qc29uJywgJyMwZDk2MDAnLCAnRWFzdCBFbmQgV2FsaycpLFxuICAgICAgICAgICAgbmV3IFRyYWlsU291cmNlKCcuL2RhdGEvZ2VvanNvbi9oZXJpdGFnZS53YWxrLjMuZ2VvanNvbicsICcjOTMwMGM0JywgJ0hlcml0YWdlIFdhbGsnKSxcbiAgICAgICAgICAgIG5ldyBUcmFpbFNvdXJjZSgnLi9kYXRhL2dlb2pzb24vaGVhdGgud2Fsay40Lmdlb2pzb24nLCAnI2RjMDYwOCcsICdIZWF0aCBXYWxrJyksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuX21vYmlsZUNvbnRyb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS1jb250cm9scycpO1xuXG4gICAgICAgIHRoaXMuX2J1dHRvbnMgPSBbXG4gICAgICAgICAgICBuZXcgVHJhaWxUb2dnbGVCdXR0b24oJ1BhcmlzaCBXYWxrJywgdGhpcy5fbW9iaWxlQ29udHJvbHMsIHRoaXMuX3dhbGtzWzBdLmlkLCB0aGlzLl93YWxrc1swXS5jb2xvdXIpLFxuICAgICAgICAgICAgbmV3IFRyYWlsVG9nZ2xlQnV0dG9uKCdFYXN0IEVuZCBXYWxrJywgdGhpcy5fbW9iaWxlQ29udHJvbHMsIHRoaXMuX3dhbGtzWzFdLmlkLCB0aGlzLl93YWxrc1sxXS5jb2xvdXIpLFxuICAgICAgICAgICAgbmV3IFRyYWlsVG9nZ2xlQnV0dG9uKCdIZXJpdGFnZSBXYWxrJywgdGhpcy5fbW9iaWxlQ29udHJvbHMsIHRoaXMuX3dhbGtzWzJdLmlkLCB0aGlzLl93YWxrc1syXS5jb2xvdXIpLFxuICAgICAgICAgICAgbmV3IFRyYWlsVG9nZ2xlQnV0dG9uKCdIZWF0aCBXYWxrJywgdGhpcy5fbW9iaWxlQ29udHJvbHMsIHRoaXMuX3dhbGtzWzNdLmlkLCB0aGlzLl93YWxrc1szXS5jb2xvdXIpLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX3dhbGtzLmZvckVhY2god2FsayA9PiB7XG4gICAgICAgICAgICB0aGlzLl93YWxrTWFwLmFkZFRyYWlsKHdhbGspO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuX2FjdGlvbkJ1dHRvbiA9IG5ldyBBY3Rpb25CdXR0b24odGhpcy5fbW9iaWxlQ29udHJvbHMpO1xuXG4gICAgICAgIHRoaXMuX21vYmlsZUNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ2xheWVyLXRvZ2dsZScsIChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3dhbGtNYXAudG9nZ2xlVHJhaWwoZXZ0LmRldGFpbC5sYXllciwgZXZ0LmRldGFpbC5lbmFibGVkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbW9iaWxlQ29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignYWN0aW9uLXRvZ2dsZScsIChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLnRvZ2dsZShldnQuZGV0YWlsLmVuYWJsZWQpKTtcbiAgICAgICAgfSlcblxuICAgIH1cbn1cblxuY29uc3QgYXBwID0gbmV3IEFwcGxpY2F0aW9uKCk7XG4iXSwibmFtZXMiOlsiTWFwIiwid2luZG93IiwibWFwYm94Z2wiLCJBdHRyaWJ1dGlvbkNvbnRyb2wiLCJHZW9sb2NhdGVDb250cm9sIiwiTmF2aWdhdGlvbkNvbnRyb2wiLCJXYWxrTWFwIiwiW29iamVjdCBPYmplY3RdIiwiY29udGFpbmVyIiwidGhpcyIsIl9sb2FkZWQiLCJfbWFwIiwic3R5bGUiLCJjZW50ZXIiLCJ6b29tIiwibWluWm9vbSIsIm1heFpvb20iLCJwaXRjaCIsImhhc2giLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJhZGRDb250cm9sIiwicG9zaXRpb25PcHRpb25zIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidHJhY2tVc2VyTG9jYXRpb24iLCJjdXN0b21BdHRyaWJ1dGlvbiIsIm9uIiwibWFwIiwidHJhaWxTb3VyY2UiLCJmbiIsImFkZFNvdXJjZSIsImlkIiwic291cmNlIiwiYWRkTGF5ZXIiLCJsYXllciIsInN5bWJvbHMiLCJjYWxsIiwiZW5hYmxlZCIsInNldExheW91dFByb3BlcnR5IiwiVHJhaWxTb3VyY2UiLCJ1cmwiLCJjb2xvdXIiLCJuYW1lIiwiX2lkIiwic2VlZCIsIkRhdGUiLCJub3ciLCJwZXJmb3JtYW5jZSIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIiwidXVpZHY0IiwiX25hbWUiLCJfY29sb3VyIiwiX3NvdXJjZSIsInR5cGUiLCJkYXRhIiwiX2xheWVyIiwibGF5b3V0IiwibGluZS1qb2luIiwibGluZS1jYXAiLCJ2aXNpYmlsaXR5IiwicGFpbnQiLCJsaW5lLWNvbG9yIiwibGluZS13aWR0aCIsImxpbmUtZGFzaGFycmF5IiwibGluZS1vcGFjaXR5IiwiX3N5bWJvbHMiLCJ0ZXh0LWZvbnQiLCJ0ZXh0LXNpemUiLCJzeW1ib2wtcGxhY2VtZW50IiwidGV4dC1maWVsZCIsInRleHQtY29sb3IiLCJ0ZXh0LWhhbG8tYmx1ciIsInRleHQtaGFsby1jb2xvciIsInRleHQtaGFsby13aWR0aCIsIkFjdGlvbkJ1dHRvbiIsIl9jb250YWluZXIiLCJfZW5hYmxlZCIsIl9yb290IiwiX3JlbmRlciIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50Iiwicm9vdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsIlRyYWlsVG9nZ2xlQnV0dG9uIiwibGFiZWwiLCJsYXllcklkIiwiX2xhYmVsIiwiX2xheWVySWQiLCJpY29uIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsImJhY2tncm91bmRDb2xvciIsInNob3ciLCJfd2Fsa01hcCIsIl93YWxrcyIsIl9tb2JpbGVDb250cm9scyIsImdldEVsZW1lbnRCeUlkIiwiX2J1dHRvbnMiLCJmb3JFYWNoIiwid2FsayIsImFkZFRyYWlsIiwiX2FjdGlvbkJ1dHRvbiIsInRvZ2dsZVRyYWlsIiwiYnV0dG9uIiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoieUJBQU8sTUFBTUEsSUFBTUMsT0FBT0MsU0FBU0YsSUFDdEJHLG1CQUFxQkYsT0FBT0MsU0FBU0MsbUJBQ3JDQyxpQkFBbUJILE9BQU9DLFNBQVNFLGlCQUNuQ0Msa0JBQW9CSixPQUFPQyxTQUFTRyxrQkNBakQsTUFBTUMsUUFDRkMsWUFBWUMsV0FDUkMsS0FBS0MsU0FBVSxFQUNmRCxLQUFLRSxLQUFPLElBQUlYLElBQUksQ0FDaEJRLFVBQVdBLFVBQ1hJLE1BQU8sNEVBQ1BDLE9BQVEsRUFBRSxTQUFVLFdBQ3BCQyxLQUFNLEdBQ05DLFFBQVMsR0FDVEMsUUFBUyxHQUNUQyxNQUFPLEVBQ1BDLE1BQU0sRUFDTkMsb0JBQW9CLElBR3hCVixLQUFLRSxLQUFLUyxXQUFXLElBQUloQixpQkFBaUIsQ0FDdENpQixnQkFBaUIsQ0FDYkMsb0JBQW9CLEdBRXhCQyxtQkFBbUIsS0FFdkJkLEtBQUtFLEtBQUtTLFdBQ04sSUFBSWYsa0JBQ0osYUFFSkksS0FBS0UsS0FBS1MsV0FDTixJQUFJakIsbUJBQW1CLENBQ25CcUIsa0JBQW1CLHFEQUV2QixlQUdKZixLQUFLRSxLQUFLYyxHQUFHLFFBQVEsS0FDakJoQixLQUFLQyxTQUFVLEtBSXZCZ0IsVUFDSSxPQUFPakIsS0FBS0UsS0FHaEJKLFNBQVNvQixhQUNMLE1BQU1DLEdBQUssS0FDUG5CLEtB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
